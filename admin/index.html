<html class="h-full bg-gray-50">

<head>
  <title>Admin panel</title>
  <link rel="stylesheet" href="" />
  <link rel="stylesheet" href="//rsms.me/inter/inter.css" />
  <script src="//cdn.tailwindcss.com?plugins=forms"></script>
  <script src="//unpkg.com/@shaun/alpinejs-router@1.x.x/dist/cdn.min.js" defer></script>
  <script src="//unpkg.com/alpinejs@3.12.3/dist/cdn.js" defer></script>
  <script src="./app.js"></script>
  <script src="./widget.js"></script>
</head>

<body class="h-full">
  <style>
    [v-cloak] {
      display: none;
    }
  </style>

  <div x-data="adminapp()" x-cloak>
    <template x-if="$store.loading">
      <span>Loading...</span>
    </template>
    <template x-if="!$store.loading">
      <div>
        <!-- Static sidebar for desktop -->
        <div class="hidden lg:fixed lg:inset-y-0 lg:z-50 lg:flex lg:w-72 lg:flex-col" x-ref="sidebar">
        </div>
        <main class="py-10 lg:pl-72">
          <div class="px-4 sm:px-6 lg:px-8">
            <div class="px-4 sm:px-6 lg:px-8">
              <!-- Your content -->
              <template x-if="$store.switching">
                <span>Switching...</span>
              </template>
              <template x-if="!$store.switching">
                <div class="sm:flex sm:items-center" id="desc_content">
                  <div class="sm:flex-auto">
                    <h1 class="text-base font-semibold leading-6 text-gray-900" x-text="$store.current.pluralName"></h1>
                    <p class="mt-2 text-sm text-gray-700" x-text="$store.current.desc"></p>
                  </div>
                  <template x-if="!$store.showedit && $store.current.active">
                    <div class="mt-4 sm:ml-16 sm:mt-0 sm:flex-none">
                      <button type="button" x-text="'Add '+ $store.current.name" @click="addObject($event)"
                        class="block rounded-md bg-indigo-600 px-3 py-2 text-center text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"></button>
                    </div>
                  </template>
                </div>
              </template>
              <div x-show="!$store.showedit" id="query_content"></div>
              <div x-show="$store.showedit" id="edit_content">
                <div class="px-6 py-6">
                  <div class="flex space-x-4 px-2">
                    <a href="#" @click="closeEdit($event, true)" class="font-medium text-indigo-600">Back</a>
                    <template x-if="$store.editobj">
                      <h3 class="text-base font-semibold leading-6 text-gray-900" x-text="$store.editobj.title"></h3>
                    </template>
                  </div>
                  <div id="edit_form"></div>
                </div>
              </div>
            </div>
          </div>
        </main>
      </div>
    </template>
    <template x-if="$store.info">
      <div>

      </div>
    </template>
    <template x-if="$store.confirmAction.action">
      <div>
        <div class="relative z-20" aria-labelledby="modal-title" role="dialog" aria-modal="true">
          <div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"></div>
          <div class="fixed inset-0 z-20 overflow-y-auto">
            <div class="flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0">
              <div
                class="relative transform overflow-hidden rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6">
                <div class="sm:flex sm:items-start">
                  <div
                    class="mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10">
                    <svg class="h-6 w-6 text-red-600" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                      stroke="currentColor" aria-hidden="true">
                      <path stroke-linecap="round" stroke-linejoin="round"
                        d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z" />
                    </svg>
                  </div>
                  <div class="mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left">

                    <h3 class="text-base font-semibold leading-6 text-gray-900" id="modal-title">
                      <template x-if="!$store.confirmAction.action.title">
                        <span x-text="$store.confirmAction.action.label"></span> records
                      </template>
                      <template x-if="$store.confirmAction.action.title">
                        <span x-text="$store.confirmAction.action.title"></span>
                      </template>
                    </h3>
                    <div class="mt-2">
                      <p class="text-sm text-gray-500">
                        <template x-if="!$store.confirmAction.action.text">
                          <div>
                            Are you sure you want to
                            <span x-text="$store.confirmAction.action.label.toLowerCase()"></span>
                            <strong x-text="$store.confirmAction.keys.length"></strong>
                            records? All of records are executed immediately on the
                            server. This action cannot be undone.
                          </div>
                        </template>
                        <template x-if="$store.confirmAction.action.text">
                          <div x-html="$store.confirmAction.action.text"></div>
                        </template>
                      </p>
                    </div>
                  </div>
                </div>
                <div class="mt-5 sm:mt-4 sm:flex sm:flex-row-reverse">
                  <button type="button" @click="$store.queryresult.doAction($event)"
                    :class="$store.confirmAction.action.class"
                    class="inline-flex w-full justify-center rounded-md px-3 py-2 text-sm font-semibold shadow-sm sm:ml-3 sm:w-auto">
                    <span x-text="$store.confirmAction.action.name"></span>
                  </button>
                  <button type="button" @click="$store.queryresult.cancelAction($event)"
                    class="mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto">
                    Cancel
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </template>
  </div>
</body>

</html>